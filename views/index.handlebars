<div class="jumbotron jumbotron-fluid">
  <div class="container">
    <h1 class="display-10">Eat-Da-Burger</h1>
    <image src="assets/images/burger.png" alt="A burger" width="200" height="200">
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col">
      <div>Burger list</div>
      <ul class="list-group list-group-flush">
        {{#each burger}}
        {{#unless this.devoured}}
        <li class="list-group-item">
          {{burger_name}}
          <button id={{id}} type="button" class="btn btn-outline-danger devourBtn">Devour it!</button>
        </li>

        {{/unless}}
        {{/each}}
      </ul>

    </div>
    <div class="col">
      <form action="/api/burger" method="post">
        <div class="form-group">
          <label for="burgerName">Your burger</label>
          <input name="burgerName" type="text" class="form-control" id="burgerName"
            placeholder="Please enter your favorite burger" required>
          <button type="submit" class="btn btn-primary mb-2">Submit</button>
        </div>
      </form>
    </div>
    <div class="col">
      <div>Devoured</div>
      <ul>
        {{#each burger}}
        {{#if this.devoured}}
        <li>
          {{burger_name}}
        </li>
        {{/if}}
        {{/each}}
      </ul>
    </div>
  </div>
</div>
<script>
  $("button").click(function (event) {
    const id = event.target.id;
    $.ajax({
      url: `/api/burger/${id}`,
      method: "PUT"
    }).then(location.reload())
  })
</script>